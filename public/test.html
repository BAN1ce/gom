<!doctype html>
<html>
<head>
  <title></title>
  <link rel="stylesheet" href="//cdn.jsdelivr.net/flat-ui/2.0/css/flat-ui.css">
  <style>
    .inline{display:inline}
    .filter{width:100%}
    .container{ width: 800px; margin: 50px auto;}
  </style>
</head>
<body>
  <div class="container">
    <div class="row">
    </div>
    <div class="row">
        <h3>Profiles</h3>
        <p>
        <button type="button" class="cpu btn btn-primary">CPU</button>
        <button type="button" class="heap btn btn-primary">Heap</button>
        </p>
        <input type="text" class="filter" placeholder="Focus by keyword...">
        <div class="row"><pre class="results"></pre></div>
      </div>
  </div>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script type="text/javascript">
    var profile = "heap";
    refresh();
    $(".cpu").on("click", function() {
      profile = "profile";
      refresh();
    });
    $(".heap").on("click", function() {
      profile = "heap";
      refresh();
    });
    function refresh(force) {
      $('.results').html('Loading, be patient... CPU profile takes 30 seconds.')
      var f = $('.filter').val();
      $.get('/p?profile=' + profile + '&filter=' + f, function(data) {
        $('.results').html(data);
      });
    };
  </script>
</body>
</html>
